# Design Pattern(C++)

## 设计模式原则
1. 依赖倒置原则:高层模块不应该依赖于低层模块,二者都应该依赖于抽象;抽象不应该依赖于实现细节,实现细节应该依赖于抽象.
2. 开闭原则:对扩展开放，对修改关闭;类应该是可扩展的,不可修改的.
3. 单一职责原则:每个类实现单一职责,一个类应该仅有一个引起它变化的原因.
4. 里氏替换原则:任何基类可以出现的地方，派生类一定可以出现.
5. 接口隔离原则:每个接口中不存在子类不需要但是必须实现的方法.
6. 合成复用原则:尽量使用合成/聚合的方式，而不是使用继承.
7. 低迷米特法则:一个类对自己依赖的类知道得越少越好。也就是说无论被依赖的类多么复杂，都应该将逻辑封装在方法内部，通过public方法提供给外部，这样当方法变化时，才能最小影响该类。
8. 针对接口变成而不是针对实现编程:不将变量类型声明为某个特定的具体类,而是声明为某个接口;客户程序无需知道对象的具体类型,只需要知道对象所具有的接口;减少系统中各部分的依赖关系,从而实现"高内聚、低耦合"的类型设计方案.

## 设计模式分类
### 目的
- 创建型:将对象的创建工作延后到其他类或者其他对象,从而应对需求变化为对象创建带来的冲击.
- 结构型:通过类的继承或对象组合,获得更灵活的结构,从而应对需求变化为对象的结构带来的冲击.
- 行为型:划分类的职责.

### 封装
- 组件协作
  通过晚期绑定来实现框架与应用程序之间的松耦合,是二者之间协作时常用的模式.
  1. 模板方法:整体操作稳定,子步骤有很多改变.
  2. 策略模式:某些对象使用的算法多种多样，经常改变。
  3. 观察者模式\组件模式:为某些对象建立一种"通知依赖关系",一个对象(目标对象)的状态发生改变时,所有依赖对象(观察者对象)都将得到通知.
- 单一职责
  划清职责,减少子类膨胀.
  1. 装饰模式
  2. 桥模式
- 对象创建
- 对象性能
- 接口隔离
- 状态变化
- 数据结构
- 行为变化
- 领域问题

## 重构获得模式
- 参考书籍:《重构——改善既有代码的设计》、《重构与模式》

## 重构关键法
- 静态      ->  动态
- 早绑定    ->  晚绑定
- 继承      ->  组合
- 编译时依赖->  运行时依赖
- 紧耦合    ->  松耦合